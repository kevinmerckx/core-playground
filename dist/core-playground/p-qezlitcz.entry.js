import{r as e,h as t,g as s}from"./p-b0866405.js";const n="/";class l{constructor(t){e(this,t),this.sections=[],this.selectedSection=localStorage.getItem("core-playground:selectedSection")||""}get currentSection(){const e=t=>t.reduce((t,s)=>t||(s.slot===this.selectedSection?s:e(s.children)),void 0),t=e(this.sections);return t?t.slot:""}async addSection(e){const t=(s,n)=>{if(0===s.length)return n;const l=s[0],i=n.find(e=>e.name===l);if(i)return i.children=t(s.slice(1),i.children),n;{const i={name:l,children:t(s.slice(1),[]),slot:1===s.length?e:void 0};return n.concat(i)}},s=e=>{const t=e.slice(0);return t.sort((e,t)=>e.name.localeCompare(t.name)),t.forEach(e=>e.children=s(e.children)),t};this.sections=s(t(e.split(n),this.sections)),this.selectedSection||this.select(e)}select(e){this.selectedSection=e,localStorage.setItem("core-playground:selectedSection",this.selectedSection)}getTree(e,s=0){return 0===e.length?"":t("ul",null,e.map(e=>t("li",null,t("div",{class:"node "+(this.currentSection===e.slot?"active":""),style:{"padding-left":`${10+20*s}px`},onClick:()=>{if(e.children.length>0){const t=e=>e[0].children.length>0?t(e[0].children):e[0].slot;this.select(t(e.children))}else this.select(e.slot)}},e.name),this.getTree(e.children,s+1))))}render(){return[t("aside",null,this.getTree(this.sections),t("div",{class:"custom-area"},t("slot",{name:"playground-custom-area"}))),t("main",null,t("slot",{name:this.currentSection}))]}static get style(){return":host{-ms-flex-direction:row;flex-direction:row;width:var(--my-playground-width);height:var(--my-playground-height);font-size:var(--my-playground-font-size)}:host,aside{display:-ms-flexbox;display:flex;overflow:hidden}aside{-ms-flex:0 0 auto;flex:0 0 auto;width:var(--my-playground-menu-width);height:100%;background:var(--my-playground-menu-bg-color);color:var(--my-playground-menu-color);-webkit-box-shadow:2px 0 2px 0 rgba(0,0,0,.5);box-shadow:2px 0 2px 0 rgba(0,0,0,.5);-ms-flex-direction:column;flex-direction:column}main{height:100%;padding:10px}main,ul{-ms-flex:1 1;flex:1 1;overflow:auto}ul{list-style:none;margin:0;padding:0}li .node{height:40px;line-height:40px;padding:0 10px;cursor:pointer;-webkit-transition:color .5s,background .5s;transition:color .5s,background .5s}.node.active,.node:focus,.node:hover{color:var(--my-playground-menu-color-active);background:var(--my-playground-menu-bg-color-active)}.custom-area{-ms-flex:0 0 auto;flex:0 0 auto}"}}class i{constructor(t){e(this,t),this.slot=""}componentDidLoad(){this.element.parentElement.addSection(this.slot)}render(){return[t("h1",null,this.title),t("slot",null)]}get title(){return this.slot.split("/").join(" / ")}get element(){return s(this)}static get style(){return"h1{margin-top:0;color:var(--my-playground-section-title-color)}"}}export{l as my_playground,i as playground_section};