import{r as e,c as t,h as s,g as n}from"./p-5bcc3133.js";const i="/";class c{constructor(s){e(this,s),this.sections=[],this.selectedSection=localStorage.getItem("core-playground:selectedSection")||"",this.sectionChange=t(this,"sectionChange",7)}get currentSection(){const e=t=>t.reduce((t,s)=>t||(s.slot===this.selectedSection?s:e(s.children)),void 0),t=e(this.sections);return t?t.slot:""}componentDidLoad(){this.sectionChange.emit(this.selectedSection)}async addSection(e){const t=(s,n)=>{if(0===s.length)return n;const i=s[0],c=n.find(e=>e.name===i);if(c)return c.children=t(s.slice(1),c.children),n;{const c={name:i,children:t(s.slice(1),[]),slot:1===s.length?e:void 0};return n.concat(c)}},s=e=>{const t=e.slice(0);return t.sort((e,t)=>e.name.localeCompare(t.name)),t.forEach(e=>e.children=s(e.children)),t};this.sections=s(t(e.split(i),this.sections)),this.selectedSection||this.select(e)}select(e){this.selectedSection=e,localStorage.setItem("core-playground:selectedSection",this.selectedSection),this.sectionChange.emit(this.selectedSection)}getTree(e,t=0){return 0===e.length?"":s("ul",null,e.map(e=>s("li",null,s("div",{class:"node "+(this.currentSection===e.slot?"active":""),style:{"padding-left":`${10+20*t}px`},onClick:()=>{if(e.children.length>0){const t=e=>e[0].children.length>0?t(e[0].children):e[0].slot;this.select(t(e.children))}else this.select(e.slot)}},e.name),this.getTree(e.children,t+1))))}render(){return[s("aside",null,this.getTree(this.sections),s("div",{class:"custom-area"},s("slot",{name:"playground-custom-area"}))),s("main",null,s("slot",{name:this.currentSection}))]}static get style(){return":host{-ms-flex-direction:row;flex-direction:row;width:var(--my-playground-width);height:var(--my-playground-height);font-size:var(--my-playground-font-size)}:host,aside{display:-ms-flexbox;display:flex;overflow:hidden}aside{-ms-flex:0 0 auto;flex:0 0 auto;width:var(--my-playground-menu-width);height:100%;background:var(--my-playground-menu-bg-color);color:var(--my-playground-menu-color);-webkit-box-shadow:2px 0 2px 0 rgba(0,0,0,.5);box-shadow:2px 0 2px 0 rgba(0,0,0,.5);-ms-flex-direction:column;flex-direction:column}main{height:100%;padding:10px}main,ul{-ms-flex:1 1;flex:1 1;overflow:auto}ul{list-style:none;margin:0;padding:0}li .node{height:40px;line-height:40px;padding:0 10px;cursor:pointer;-webkit-transition:color .5s,background .5s;transition:color .5s,background .5s}.node.active,.node:focus,.node:hover{color:var(--my-playground-menu-color-active);background:var(--my-playground-menu-bg-color-active)}.custom-area{-ms-flex:0 0 auto;flex:0 0 auto}"}}class l{constructor(t){e(this,t),this.slot=""}componentDidLoad(){this.element.parentElement.addSection(this.slot)}render(){return[s("h1",null,this.title),s("slot",null)]}get title(){return this.slot.split("/").join(" / ")}get element(){return n(this)}static get style(){return"h1{margin-top:0;color:var(--my-playground-section-title-color)}"}}export{c as my_playground,l as playground_section};